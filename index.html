<div class="card">
  <h1>UI работает</h1>
  <p>Проверка связи с API</p>

  <button id="btn" style="padding:12px 18px;font-size:16px;border-radius:12px;">
    Отправить запрос
  </button>

  <pre id="out" style="margin-top:12px;background:#f1f5f9;padding:10px;border-radius:10px;font-size:12px;"></pre>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbzM34gA9ak--23-J1lgAEaczriCznPVBw68SPY0gD98UqsPYoeLBQxP5MTz4eCQiIa8/exec";

document.getElementById("btn").onclick = async () => {
  const out = document.getElementById("out");
  out.textContent = "Отправляю…";

  const res = await fetch(API_URL, {
  method: "POST",
  redirect: "follow",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ from: "github-pages", test: 1 })
});


    const json = await res.json();
    out.textContent = JSON.stringify(json, null, 2);
  } catch (e) {
    out.textContent = "Ошибка: " + e.message;
  }
};
</script>
